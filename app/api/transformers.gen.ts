// This file is auto-generated by @hey-api/openapi-ts
import type {
  CreateSnapshotResponse,
  GetActivitiesResponse,
  GetActivityResponse,
  GetSessionAggregatesResponse,
  GetSessionResponse,
  GetSessionsResponse,
  GetSnapshotResponse,
  GetSnapshotsResponse,
  LoginResponse,
  RefreshTokenResponse,
  StartSessionResponse,
  UpdateSessionResponse,
} from './types.gen';

const authResponseSchemaResponseTransformer = (data: any) => {
  data.timestamp = new Date(data.timestamp);
  return data;
};

export const loginResponseTransformer = async (
  data: any,
): Promise<LoginResponse> => {
  data = authResponseSchemaResponseTransformer(data);
  return data;
};

export const refreshTokenResponseTransformer = async (
  data: any,
): Promise<RefreshTokenResponse> => {
  data = authResponseSchemaResponseTransformer(data);
  return data;
};

const characterSnapshotSchemaResponseTransformer = (data: any) => {
  data.createdAt = new Date(data.createdAt);
  data.updatedAt = new Date(data.updatedAt);
  return data;
};

export const getSnapshotsResponseTransformer = async (
  data: any,
): Promise<GetSnapshotsResponse> => {
  data = data.map((item: any) => {
    return characterSnapshotSchemaResponseTransformer(item);
  });
  return data;
};

export const createSnapshotResponseTransformer = async (
  data: any,
): Promise<CreateSnapshotResponse> => {
  data = characterSnapshotSchemaResponseTransformer(data);
  return data;
};

export const getSnapshotResponseTransformer = async (
  data: any,
): Promise<GetSnapshotResponse> => {
  data = characterSnapshotSchemaResponseTransformer(data);
  return data;
};

const activityHistorySchemaResponseTransformer = (data: any) => {
  data.period = new Date(data.period);
  return data;
};

const aggregateSchemaResponseTransformer = (data: any) => {
  data.activityDetails = activityHistorySchemaResponseTransformer(
    data.activityDetails,
  );
  data.createdAt = new Date(data.createdAt);
  return data;
};

const detailActivitySchemaResponseTransformer = (data: any) => {
  data.activity = activityHistorySchemaResponseTransformer(data.activity);
  if (data.aggregate) {
    data.aggregate = aggregateSchemaResponseTransformer(data.aggregate);
  }
  return data;
};

export const getActivitiesResponseTransformer = async (
  data: any,
): Promise<GetActivitiesResponse> => {
  data = data.map((item: any) => {
    return detailActivitySchemaResponseTransformer(item);
  });
  return data;
};

export const getActivityResponseTransformer = async (
  data: any,
): Promise<GetActivityResponse> => {
  data.activity = activityHistorySchemaResponseTransformer(data.activity);
  if (data.aggregate) {
    data.aggregate = aggregateSchemaResponseTransformer(data.aggregate);
  }
  return data;
};

const sessionSchemaResponseTransformer = (data: any) => {
  data.startedAt = new Date(data.startedAt);
  if (data.completedAt) {
    data.completedAt = new Date(data.completedAt);
  }
  if (data.lastSeenTimestamp) {
    data.lastSeenTimestamp = new Date(data.lastSeenTimestamp);
  }
  return data;
};

export const getSessionsResponseTransformer = async (
  data: any,
): Promise<GetSessionsResponse> => {
  data = data.map((item: any) => {
    return sessionSchemaResponseTransformer(item);
  });
  return data;
};

export const startSessionResponseTransformer = async (
  data: any,
): Promise<StartSessionResponse> => {
  data = sessionSchemaResponseTransformer(data);
  return data;
};

export const getSessionResponseTransformer = async (
  data: any,
): Promise<GetSessionResponse> => {
  data = sessionSchemaResponseTransformer(data);
  return data;
};

export const updateSessionResponseTransformer = async (
  data: any,
): Promise<UpdateSessionResponse> => {
  data = sessionSchemaResponseTransformer(data);
  return data;
};

export const getSessionAggregatesResponseTransformer = async (
  data: any,
): Promise<GetSessionAggregatesResponse> => {
  data = data.map((item: any) => {
    return aggregateSchemaResponseTransformer(item);
  });
  return data;
};
